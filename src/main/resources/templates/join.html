<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/default}">

<th:block layout:fragment="content">
    <form id="frm">
        <p>
            <input type="text" id="loginId" name="loginId" placeholder="아이디"/>
        </p>
        <p>
            <input type="password" id="password" name="password" placeholder="패스워드"/>
        </p>
        <p>
            <input type="text" id="name" name="name" placeholder="이름"/>
        </p>
        <p>
            <input type="button" value="회원가입" onclick="join()" />
            <input type="button" value="로그인" onclick="window.location.href = '/login'" />
        </p>
    </form>
</th:block>

<th:block layout:fragment="script">
    <script>
        const join = async () => {
            try {
                let res = await ajaxApi.post("/user/join", serializeObject("#frm"));
                console.log(res);
            } catch (ex) {
                console.error(ex);
            }
        }
    </script>
</th:block>
</html>